**Tags:** 
____
**Date:** 02.06.2023
**Time:** 14:51
```toc style:
bullet | number | inline (default: bullet) min_depth: number (default: 2) max_depth: number (default: 6) title: string (default: undefined) allow_inconsistent_headings: boolean (default: false) delimiter: string (default: |) varied_style: boolean (default: false)
```
____
## Сбалансированные ДДП
![[4. Сбалансированные ДДП. АВЛ-дерево.#Сбалансированные ДДП]]

## AA-tree
+ Прикол в том, что уровень всех листов равен 1
+ К вершине можно присоединить другую, но только одну и только справа

![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602145810.png|600]]

### Skew
Если у нас вершина на том же уровне, но слева, то делаем эту операцию
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602145919.png|600]]

### Split
Если у нас справа идут несколько вершин, то делаем так
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150008.png|600]]

### Добавление вершины
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150537.png|600]]
Или
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150554.png|600]]
Или
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150623.png|600]]

### Удаление вершины
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150925.png|600]]
или
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602150947.png|600]]
или
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602151101.png|600]]

Алгоритм удаления
+ После удаления узла необходимо подняться вверх начиная с родителя фактически удаленного узла и выполнить балансировку. 
+ Для этого необходимо проверить уровень вершины и если он на 2 больше чем у потомков, то снизить уровень на 1. 
+ Если после этого уровень правого потомка больше уровня в узле, то сделать уровень правого потомка равным уровню текущего узла. 
+ Так как изменение уровней могло вызвать нарушение правила построения дерева, необходимо 
	+ осуществить операцию skew для текущего узла, 
	+ потом для правого потомка, 
	+ потом для правого потомка правого потомка текущего узла 
	+ и операцию split для текущего узла и его правого потомка.

![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602151945.png|600]]
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602152000.png|600]]
Между d и e мы делаем:
1. Skew для 10
2. Skew для 10 еще раз
![[Картинки/╨Ъ╨░╤А╤В╨╕╨╜╨║╨╕/Pasted image 20230602152012.png|600]]
Тут между двумя графиками делаем:
1. Split делаем для 4. Поднимаем 6 вверх.
2. Split делаем для 8. Поднимаем 10 вверх
3. 10 - одноуровневый правый потомок от 6

## Список ссылок
____
**Zero-links:**
+ [[00_Алгоритмы и структуры данных]]

**Links:**
+ [[Сбалансированные ДДП. Красно-черные деревья.]]
+ [[3. Двоичные деревья поиска (ДДП).]]